AddCSLuaFile()
 
local A = "AMBER"
local R = "RED"
local DR = "D_RED"
local B = "BLUE"
local W = "WHITE"
local CW = "C_WHITE"
local SW = "S_WHITE"
local G = "GREEN"
 
local name = "Lilys 2015 NHS M7 Rear"
 
local COMPONENT = {}

COMPONENT.Skin = 0
COMPONENT.Bodygroups = {}
COMPONENT.NotLegacy = true
COMPONENT.ColorInput = 2
COMPONENT.UsePhases = true
COMPONENT.DefaultColors = {
    [1] = "RED",
    [2] = "RED"
}
 
COMPONENT.Meta = {

    whelen_m9 = {
        AngleOffset = 0,
        W = 6,
        H = 2.5,
        Sprite = "sprites/emv/emv_whelen_m9",
        Scale = 1,
        NoLegacy = true,
        DirAxis = "Up",
        DirOffset = -90
    }
}
 
COMPONENT.Positions = {
    [1] = { Vector( -14.2, 2.18, 2.25 ), Angle( 0, -5, 0 ), "whelen_m9" },
    [2] = { Vector( -11.9, 2.18, 2.25 ), Angle( -180, 5, 0 ), "whelen_m9" },

    [3] = { Vector( -14.2, 2.18, 1.35 ), Angle( 0, -5, 0 ), "whelen_m9" },
    [4] = { Vector( -11.9, 2.18, 1.35 ), Angle( -180, 5, 0 ), "whelen_m9" },
    //
    [5] = { Vector( -70.58, 2.18, 2.25 ), Angle( 0, -5, 0 ), "whelen_m9" },
    [6] = { Vector( -67.75, 2.18, 2.25 ), Angle( -180, 5, 0 ), "whelen_m9" },

    [7] = { Vector( -70.58, 2.18, 1.35 ), Angle( 0, -5, 0 ), "whelen_m9" },
    [8] = { Vector( -67.75, 2.18, 1.35 ), Angle( -180, 5, 0 ), "whelen_m9" },
}
 
COMPONENT.Sections = {
    ["auto_whelen_m9"] = {
        [1] = { 
            { 1, "_1"}, { 2, "_1"}, { 3, "_1"}, { 4, "_1"}
        },
        [2] = { 
            { 1, "_2"}, { 2, "_2"}, { 3, "_2"}, { 4, "_2"}
        },
        [3] = { 
            { 2, "_2"}, { 4, "_2"}
        },
        [4] = { 
            { 1, "_1"}, { 3, "_1"}
        },
        [5] = { 
            { 1, "_1"}, { 3, "_1"}, { 2, "_2"}, { 4, "_2"}
        },
        [6] = { 
            { 1, "_1"}, { 3, "_1"}
        },
        [7] = { 
            { 2, "_2"}, { 4, "_2"}
        }
    },
        ["red1"] = {
		[2] = { 
		{ 2, DR }, { 4, DR }, { 1, DR }, { 3, DR },
		},
		[1] = {
        { 5, DR }, { 6, DR }, { 7, DR }, { 8, DR },
		},
	},	
	["red2"] = {
		[2] = { 
		{ 2, DR }, { 4, DR }, { 1, DR }, { 3, DR },
		},
		[1] = {
        { 5, DR }, { 6, DR }, { 7, DR }, { 8, DR },
		},
	},
}
 
COMPONENT.Patterns = {
    ["auto_whelen_m9"] = {
        ["code1"] = { 1, 1, 1, 0, 0, 0},
        ["code2"] = { 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0 },
        ["code3"] = { 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 
                      0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0,
                      1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 
                      0, 0, 1, 1, 0, 0, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0},
         ["code1A"] = { 1, 1, 1, 0, 0, 0},
        ["code2A"] = { 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0 },
        ["code3A"] = { 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0,
                      0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0,
                      1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1,
                      0, 0, 1, 1, 0, 0, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0},
        ["code1B"] = { 0, 0, 0, 1, 1, 1 },
        ["code2B"] = { 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0 },
        ["code3B"] = { 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0,
                      1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0,
                      0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0,
                      1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2},
        ["code1TT"] = { 3, 3, 3, 4, 4, 4 },
        ["code2TT"] = { 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4,
                        3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 3, 3, 0, 3, 3, 0, 4, 4, 0, 4, 4, 0, 3, 3, 0, 3, 3, 0, 4, 4, 0, 4, 4, 0,
                        3, 3, 0, 3, 3, 0, 4, 4, 0, 4, 4, 0, 5, 5, 0, 5, 5, 0, 5, 5, 0},
        ["code3TT"] = { 3, 3, 3, 4, 4, 4, 3, 3, 3, 4, 4, 4, 3, 3, 3, 4, 4, 4,
                        3, 3, 3, 4, 4, 4, 3, 0, 3, 0, 4, 0, 4, 0, 3, 0, 3, 0, 4, 0, 4, 0,
                        3, 0, 3, 0, 4, 0, 4, 0, 5, 0, 5, 0, 5, 0},
        ["code1TT2"] = { 6, 6, 6, 7, 7, 7 },
        ["code2TT2"] = { 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7,
                        6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 6, 6, 0, 6, 6, 0, 7, 7, 0, 7, 7, 0, 6, 6, 0, 6, 6, 0, 7, 7, 0, 7, 7, 0,
                        6, 6, 0, 6, 6, 0, 7, 7, 0, 7, 7, 0, 5, 5, 0, 5, 5, 0, 5, 5, 0},
        ["code3TT2"] = { 6, 6, 6, 7, 7, 7, 6, 6, 6, 7, 7, 7, 6, 6, 6, 7, 7, 7,
                        6, 6, 6, 7, 7, 7, 6, 0, 6, 0, 7, 0, 7, 0, 6, 0, 6, 0, 7, 0, 7, 0,
                        6, 0, 6, 0, 7, 0, 7, 0, 5, 0, 5, 0, 5, 0},
        ["code1TTA"] = { 0, 0, 0, 1, 1, 1 },
        ["code2TTA"] = { 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
                        0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0},
        ["code3TTA"] = { 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1,
                        0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0,
                        0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0},
        ["code1TTB"] = { 1, 1, 1, 0, 0, 0 },
        ["code2TTB"] = { 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0,
                        1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0,
                        1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0},
        ["code3TTB"] = { 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0,
                        1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0,
                        1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0},
    },
    	["red1"] = {
		["off"] = { 0 },
		["on"] = { 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2 },
	},
	["red2"] = {
		["off"] = { 0 },
		["on"] = {  1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2  },
	},
}
 
COMPONENT.TrafficDisconnect = {
    	["red1"] = {
		1, 2, 3, 4
        },
        ["red2"] = {
		1, 2, 3, 4
	},
}
 
COMPONENT.Modes = {
    Primary = {
        M1 = {
            ["red1"] = "off",
			["red2"] = "off",
        },
        M2 = {
            ["red1"] = "off",
			["red2"] = "off",
        },
        M3 = {
            ["red1"] = "off",
			["red2"] = "off",
        }
    },
    Auxiliary = {
         R1 = {
				["red1"] = "on",
				["red2"] = "off",
			},
			R2 = {
				["red2"] = "on",
				["red1"] = "off",	
			},
    }
}
 
EMVU:AddAutoComponent( COMPONENT, name )